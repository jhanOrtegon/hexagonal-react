#!/bin/sh

# Pre-push hook: Run tests and build to ensure code compiles before pushing
echo "ğŸ§ª Running tests before push..."
pnpm test:run

if [ $? -ne 0 ]; then
  echo "âŒ Tests failed! Fix tests before pushing."
  exit 1
fi

echo "ğŸ—ï¸  Running build before push..."
pnpm run build

if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Fix errors before pushing."
  exit 1
fi

echo "âœ… All checks passed! Proceeding with push..."
